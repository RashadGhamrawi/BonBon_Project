<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareBonus</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f3f4f6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-bottom: 100px;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 16px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 20px;
            font-weight: bold;
            color: #2563eb;
        }

        .main-content {
            width: 90%;
            max-width: 500px;
            margin-top: 80px;
        }

        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 16px;
            text-align: center;
        }

        .cool-blue {
            color: #2563eb;
            font-weight: bold;
            font-size: 24px;
        }

        .floating-button {
            position: fixed;
            right: 20px;
            bottom: 100px;
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #2563eb, #4f46e5);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }

        .floating-button:hover {
            transform: scale(1.1);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            text-align: center;
            width: 90%;
            max-width: 400px;
        }

        .modal-content input, .modal-content select, .modal-content textarea, .modal-content button {
            width: 100%;
            margin-top: 10px;
            padding: 12px;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid #ccc;
        }

        .history {
            background: white;
            padding: 16px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .history-item {
            padding: 10px;
            border-bottom: 1px solid #e5e7eb;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .ranking-page, .prizes-page {
            display: none;
            margin-top: 100px;
            width: 90%;
            max-width: 600px;
        }

        .ranking-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #e5e7eb;
        }

        .ranking-item:last-child {
            border-bottom: none;
        }

        .prizes-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .prize-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 16px;
            text-align: center;
            cursor: pointer;
        }

        .prize-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 30px;
            font-weight: bold;
            animation: fadeOut 2s ease-out;
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }

        /* Styling for Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
        }

        .tab-button {
            padding: 12px 20px;
            background-color: #2563eb;
            color: white;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .tab-button:hover {
            background-color: #4f46e5;
        }

        .tab-button.active {
            background-color: #4f46e5;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header class="header">CareBonus</header>

    <main class="main-content">
        <div class="card cool-blue" id="pointsDisplay">ã‚ãªãŸã®å–å¾—ãƒã‚¤ãƒ³ãƒˆ: 2,500 pt</div>
        <div class="card cool-blue">ä»Šæœˆã®é€ä»˜å¯èƒ½ãƒã‚¤ãƒ³ãƒˆ: <span id="monthlyLimit">450</span>  </div>

        <div class="history" id="historySection">
            <h3>å±¥æ­´</h3>
            <div id="historyList"></div>
        </div>
    </main>

    <button class="floating-button" onclick="openModal()">+</button>

    <div id="sendPointsModal" class="modal">
        <div class="modal-content">
            <h2>ãƒã‚¤ãƒ³ãƒˆã‚’é€ã‚‹</h2>
            <select id="recipient" onchange="updateNames()">
                <option value="åŒ»è€…">åŒ»è€…</option>
                <option value="çœ‹è­·å¸«">çœ‹è­·å¸«</option>
                <option value="ã‚¹ã‚¿ãƒƒãƒ•">ã‚¹ã‚¿ãƒƒãƒ•</option>
            </select>
            <select id="person" disabled></select>
            <input type="number" id="points" max="50" min="1" value="10">
            <div id="pointsLeft" style="margin-top: 10px;">æ®‹ã‚Šãƒã‚¤ãƒ³ãƒˆ: 450</div>
            <textarea id="message" placeholder="æ„Ÿè¬ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"></textarea>
            <button onclick="sendPoints()">é€ä¿¡</button>
        </div>
    </div>

    <div id="fireworks" class="fireworks">ğŸ‰ ğŸ‰âœ¨âœ¨âœ¨</div>

    <!-- Tabs for navigation -->
    <div class="tabs">
        <button class="tab-button active" onclick="showPage('ranking')">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</button>
        <button class="tab-button" onclick="showPage('prizes')">å•†å“äº¤æ›</button>
    </div>

    <!-- Ranking Page -->
    <div id="rankingPage" class="ranking-page">
        <h3>ç—…é™¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h3>
        <div class="ranking-item"><span>1ä½</span><span>ç”°ä¸­ å¤ªéƒ - 1200 pt</span></div>
        <div class="ranking-item"><span>2ä½</span><span>ä½è—¤ å¥ - 1150 pt</span></div>
        <div class="ranking-item"><span>3ä½</span><span>éˆ´æœ¨ å…‰ - 1100 pt</span></div>
        <div class="ranking-item"><span>4ä½</span><span>å±±ç”° èŠ±å­ - 1000 pt</span></div>
        <div class="ranking-item"><span>5ä½</span><span>é«˜æ©‹ ç¾ç©‚ - 950 pt</span></div>
        <div class="ranking-item"><span>6ä½</span><span>æ¸¡è¾º è£•å­ - 900 pt</span></div>
        <div class="ranking-item"><span>7ä½</span><span>äº•ä¸Š ç¿¼ - 850 pt</span></div>
        <div class="ranking-item"><span>8ä½</span><span>ä¸­æ‘ ä¸€æ¨¹ - 800 pt</span></div>
        <div class="ranking-item"><span>9ä½</span><span>åŠ è—¤ æ­£ç›´ - 750 pt</span></div>
        <div class="ranking-item"><span>10ä½</span><span>å‰ç”° å¹¸ - 700 pt</span></div>
    </div>

    <!-- Prizes Page -->
    <div id="prizesPage" class="prizes-page">
        <h3>äº¤æ›å¯èƒ½å•†å“</h3>
        <div class="prizes-list">
            <div class="prize-card">
                <h4>Amazonã‚®ãƒ•ãƒˆã‚«ãƒ¼ãƒ‰</h4>
                <p>ãƒã‚¤ãƒ³ãƒˆ: 500 pt</p>
            </div>
            <div class="prize-card">
                <h4>ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ãƒœãƒˆãƒ«</h4>
                <p>ãƒã‚¤ãƒ³ãƒˆ: 150 pt</p>
            </div>
            <div class="prize-card">
                <h4>ãƒ˜ãƒƒãƒ‰ãƒ•ã‚©ãƒ³</h4>
                <p>ãƒã‚¤ãƒ³ãƒˆ: 1000 pt</p>
            </div>
            <div class="prize-card">
                <h4>ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒã‚±ãƒƒãƒˆ</h4>
                <p>ãƒã‚¤ãƒ³ãƒˆ: 300 pt</p>
            </div>
        </div>
    </div>

    <script>
        let history = [];

        function openModal() {
            document.getElementById('sendPointsModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('sendPointsModal').style.display = 'none';
        }

        function sendPoints() {
            let recipient = document.getElementById('recipient').value;
            let person = document.getElementById('person').value;
            let points = document.getElementById('points').value;
            let message = document.getElementById('message').value;

            // Update points balance
            let remainingPoints = document.getElementById('monthlyLimit');
            remainingPoints.textContent = (parseInt(remainingPoints.textContent) - points) + " pt";

            // Add to history
            history.push({
                recipient,
                person,
                points,
                message,
                date: new Date().toLocaleString(),
            });

            // Update the history section
            updateHistory();

            // Show fireworks
            document.getElementById('fireworks').style.display = 'flex';
            setTimeout(() => {
                document.getElementById('fireworks').style.display = 'none';
            }, 2000);

            // Close modal
            closeModal();
        }

        function updateNames() {
            let personSelect = document.getElementById('person');
            personSelect.innerHTML = '';
            let title = document.getElementById('recipient').value;
            let names = [];

            if (title === 'åŒ»è€…') {
                names = ['ç”°ä¸­ å¤ªéƒ', 'ä½è—¤ å¥', 'éˆ´æœ¨ å…‰'];
            } else if (title === 'çœ‹è­·å¸«') {
                names = ['å±±ç”° èŠ±å­', 'é«˜æ©‹ ç¾ç©‚', 'æ¸¡è¾º è£•å­'];
            } else if (title === 'ã‚¹ã‚¿ãƒƒãƒ•') {
                names = ['äº•ä¸Š ç¿¼', 'ä¸­æ‘ ä¸€æ¨¹', 'åŠ è—¤ æ­£ç›´'];
            }

            // Enable the select element once we have names
            personSelect.disabled = false;

            names.forEach(name => {
                let option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                personSelect.appendChild(option);
            });
        }

        function updateHistory() {
            let historyList = document.getElementById('historyList');
            historyList.innerHTML = '';

            history.forEach(item => {
                let div = document.createElement('div');
                div.classList.add('history-item');
                div.innerHTML = `
                    <p><strong>${item.recipient} - ${item.person}</strong></p>
                    <p>ãƒã‚¤ãƒ³ãƒˆ: ${item.points} pt</p>
                    <p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ${item.message}</p>
                    <p>é€ä¿¡æ—¥æ™‚: ${item.date}</p>
                `;
                historyList.appendChild(div);
            });
        }

        function showPage(page) {
            if (page === 'ranking') {
                document.getElementById('rankingPage').style.display = 'block';
                document.getElementById('prizesPage').style.display = 'none';
            } else if (page === 'prizes') {
                document.getElementById('rankingPage').style.display = 'none';
                document.getElementById('prizesPage').style.display = 'block';
            }
            updateActiveTab(page);
        }

        function updateActiveTab(page) {
            let tabs = document.querySelectorAll('.tab-button');
            tabs.forEach(tab => tab.classList.remove('active'));
            if (page === 'ranking') {
                tabs[0].classList.add('active');
            } else if (page === 'prizes') {
                tabs[1].classList.add('active');
            }
        }

        // Initialize default page
        showPage('ranking');
    </script>
</body>
</html>
